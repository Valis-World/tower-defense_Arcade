@namespace
class SpriteKind:
    Müll = SpriteKind.create()
    Fluss = SpriteKind.create()
    flusslinks = SpriteKind.create()
    flussrechts = SpriteKind.create()
    insel = SpriteKind.create()
    Müll_typ_1 = SpriteKind.create()
    Müll_typ_1_2 = SpriteKind.create()
    Müll_typ_1_3 = SpriteKind.create()
    Müll_typ_1_1 = SpriteKind.create()
    Marker = SpriteKind.create()

def on_b_pressed():
    global Typ2, Neu, preis, Auswahl
    Typ2 += 1
    if Typ2 >= 2:
        Typ2 = 0
    if Typ2 == 1:
        Neu = sprites.create(img("""
                ....................................................................................................
                            ....................................................................................................
                            ....................................................................................................
                            ....................................................................................................
                            ....................................................................................................
                            ....................................................................................................
                            ....................................................................................................
                            ....................................................................................................
                            ....................................................................................................
                            ....................................................................................................
                            ....................................................................................................
                            ....................................................................................................
                            ....................................................................................................
                            ....................................................................................................
                            ....................................................................................................
                            ....................................................................................................
                            ....................................................................................................
                            ....................................................................................................
                            ....................................................................................................
                            ....................................................................................................
                            ....................................................................................................
                            ....................................................................................................
                            ....................................................................................................
                            ....................................................................................................
                            ....................................................................................................
                            ....................................................................................................
                            ....................................................................................................
                            ....................................................................................................
                            ....................................................................................................
                            ....................................................................................................
                            ....................................................................................................
                            ....................................................................................................
                            ....................................................................................................
                            ....................................................................................................
                            ....................................................................................................
                            ...................................222..............................................................
                            ...................................2222.............................................................
                            ...................................2222.............................................................
                            ..................................22222..................2222.......................................
                            ..................................222222.................2222.......................................
                            ..................................222222................22222.......................................
                            ..................................22222222222...........22222.......................................
                            .................................222222222222222222.....2222........................................
                            .................................22222222222222222222...2222........................................
                            .................................222222222222222222222..2222........................................
                            ................................2222222222222222222222222222........................................
                            ................................2222222222222222222222222222........................................
                            ................................22222222222222222222222222222.......................................
                            ................................22222222222222222222222222222.......................................
                            ................................22222222222222222222222222222222222.................................
                            ................................22222222222222222222222222222222222222..............................
                            ................................22222222222222222222222222222222222222..............................
                            ................................22222222222222222222222222222222222222..............................
                            ................................22222222222222222222222222222.......................................
                            ................................222222222222222222222222222222......................................
                            ................................222222222222222222222222222222......................................
                            ................................222222222222222222222222222222......................................
                            ................................222222222222222222222222222222......................................
                            ..................................2222222222222222222222222222222...................................
                            ...................................2222222222222222222222222222222..................................
                            ....................................222222222222222222222222222222..................................
                            ........................................22222222222222222222222222..................................
                            ...........................................2222222222222222222222...................................
                            .............................................2222222222222222.......................................
                            ..................................................22222222..........................................
                            ....................................................................................................
                            ....................................................................................................
                            ....................................................................................................
                            ....................................................................................................
                            ....................................................................................................
                            ....................................................................................................
                            ....................................................................................................
                            ....................................................................................................
                            ....................................................................................................
                            ....................................................................................................
                            ....................................................................................................
                            ....................................................................................................
                            ....................................................................................................
                            ....................................................................................................
                            ....................................................................................................
                            ....................................................................................................
                            ....................................................................................................
                            ....................................................................................................
                            ....................................................................................................
                            ....................................................................................................
                            ....................................................................................................
                            ....................................................................................................
                            ....................................................................................................
                            ....................................................................................................
                            ....................................................................................................
                            ....................................................................................................
                            ....................................................................................................
                            ....................................................................................................
                            ....................................................................................................
                            ....................................................................................................
                            ....................................................................................................
                            ....................................................................................................
                            ....................................................................................................
                            ....................................................................................................
                            ....................................................................................................
            """),
            SpriteKind.enemy)
        preis = 50
    elif Typ2 == 0:
        Neu = sprites.create(img("""
                ........................
                            ........................
                            ........................
                            ........................
                            ............ffffff......
                            ...........f2feeeeff....
                            ..........f222feeeeff...
                            ..........feeeeffeeef...
                            .........fe2222eeffff...
                            .........f2effff222ef...
                            ..........ffeeefffffff..
                            ...........e44fbe44eff..
                            .........eeeddf14d4eef..
                            .......bbeededdd4eeef...
                            ......bbcedd4e44eeff....
                            .bbbbbbb..ee442222f.....
                            .b.1.bb....f2e2222f.....
                            .b1.1bb....f554444f.....
                            .bbbbb......ffffff......
                            ..1.1.........fff.......
                            ...1....................
                            ........................
                            ........................
                            ........................
            """),
            SpriteKind.enemy)
        preis = 15
    Neu.set_position(Auswahl.x, Auswahl.y)
    Auswahl.destroy()
    Auswahl = Neu
    controller.move_sprite(Auswahl, 50, 50)
    Auswahl.set_stay_in_screen(True)
controller.B.on_event(ControllerButtonEvent.PRESSED, on_b_pressed)

def on_a_pressed():
    global Neu, coins, Coin_Sprite
    if preis > coins:
        game.splash("PLEITE!!!!!")
    else:
        if Typ2 == 1:
            Neu = sprites.create(img("""
                    ....................................................................................................
                                    ....................................................................................................
                                    ....................................................................................................
                                    ....................................................................................................
                                    ....................................................................................................
                                    ....................................................................................................
                                    ....................................................................................................
                                    ....................................................................................................
                                    ....................................................................................................
                                    ....................................................................................................
                                    ....................................................................................................
                                    ....................................................................................................
                                    ....................................................................................................
                                    ....................................................................................................
                                    ....................................................................................................
                                    ....................................................................................................
                                    ....................................................................................................
                                    ....................................................................................................
                                    ....................................................................................................
                                    ....................................................................................................
                                    ....................................................................................................
                                    ....................................................................................................
                                    ....................................................................................................
                                    ....................................................................................................
                                    ....................................................................................................
                                    ....................................................................................................
                                    ....................................................................................................
                                    ....................................................................................................
                                    ....................................................................................................
                                    ....................................................................................................
                                    ....................................................................................................
                                    ....................................................................................................
                                    ....................................................................................................
                                    ....................................................................................................
                                    ....................................................................................................
                                    ...................................222..............................................................
                                    ...................................2222.............................................................
                                    ...................................2222.............................................................
                                    ..................................22222..................2222.......................................
                                    ..................................222222.................2222.......................................
                                    ..................................222222................22222.......................................
                                    ..................................22222222222...........22222.......................................
                                    .................................222222222222222222.....2222........................................
                                    .................................22222222222222222222...2222........................................
                                    .................................222222222222222222222..2222........................................
                                    ................................2222222222222222222222222222........................................
                                    ................................2222222222222222222222222222........................................
                                    ................................22222222222222222222222222222.......................................
                                    ................................22222222222222222222222222222.......................................
                                    ................................22222222222222222222222222222222222.................................
                                    ................................22222222222222222222222222222222222222..............................
                                    ................................22222222222222222222222222222222222222..............................
                                    ................................22222222222222222222222222222222222222..............................
                                    ................................22222222222222222222222222222.......................................
                                    ................................222222222222222222222222222222......................................
                                    ................................222222222222222222222222222222......................................
                                    ................................222222222222222222222222222222......................................
                                    ................................222222222222222222222222222222......................................
                                    ..................................2222222222222222222222222222222...................................
                                    ...................................2222222222222222222222222222222..................................
                                    ....................................222222222222222222222222222222..................................
                                    ........................................22222222222222222222222222..................................
                                    ...........................................2222222222222222222222...................................
                                    .............................................2222222222222222.......................................
                                    ..................................................22222222..........................................
                                    ....................................................................................................
                                    ....................................................................................................
                                    ....................................................................................................
                                    ....................................................................................................
                                    ....................................................................................................
                                    ....................................................................................................
                                    ....................................................................................................
                                    ....................................................................................................
                                    ....................................................................................................
                                    ....................................................................................................
                                    ....................................................................................................
                                    ....................................................................................................
                                    ....................................................................................................
                                    ....................................................................................................
                                    ....................................................................................................
                                    ....................................................................................................
                                    ....................................................................................................
                                    ....................................................................................................
                                    ....................................................................................................
                                    ....................................................................................................
                                    ....................................................................................................
                                    ....................................................................................................
                                    ....................................................................................................
                                    ....................................................................................................
                                    ....................................................................................................
                                    ....................................................................................................
                                    ....................................................................................................
                                    ....................................................................................................
                                    ....................................................................................................
                                    ....................................................................................................
                                    ....................................................................................................
                                    ....................................................................................................
                                    ....................................................................................................
                                    ....................................................................................................
                                    ....................................................................................................
                """),
                SpriteKind.enemy)
        elif Typ2 == 0:
            if richtung == 0:
                Neu = sprites.create(img("""
                        ........................
                                            ........................
                                            ........................
                                            ........................
                                            ............ffffff......
                                            ...........f2feeeeff....
                                            ..........f222feeeeff...
                                            ..........feeeeffeeef...
                                            .........fe2222eeffff...
                                            .........f2effff222ef...
                                            ..........ffeeefffffff..
                                            ...........e44fbe44eff..
                                            .........eeeddf14d4eef..
                                            .......bbeededdd4eeef...
                                            ......bbcedd4e44eeff....
                                            .bbbbbbb..ee442222f.....
                                            .b.1.bb....f2e2222f.....
                                            .b1.1bb....f554444f.....
                                            .bbbbb......ffffff......
                                            ..1.1.........fff.......
                                            ...1....................
                                            ........................
                                            ........................
                                            ........................
                    """),
                    SpriteKind.enemy)
            elif richtung == 1:
                Neu = sprites.create(img("""
                        ........................
                                            ........................
                                            ........................
                                            ........................
                                            ......ffffff............
                                            ....ffeeeef2f...........
                                            ...ffeeeef222f..........
                                            ...feeeffeeeef..........
                                            ...ffffee2222ef.........
                                            ...fe222ffffe2f.........
                                            ..fffffffeeeff..........
                                            ..ffe44ebf44e...........
                                            ..fee4d41fddeee.........
                                            ...feee4dddedeebb.......
                                            ....ffee44e4ddecbb......
                                            .....f222244ee..bbbbbbb.
                                            .....f2222e2f....bb.1.b.
                                            .....f444455f....bb1.1b.
                                            ......ffffff......bbbbb.
                                            .......fff.........1.1..
                                            ....................1...
                                            ........................
                                            ........................
                                            ........................
                    """),
                    SpriteKind.enemy)
        coins += preis * -1
        Neu.set_position(Auswahl.x, Auswahl.y)
        Towers.append(Neu)
        Coin_Sprite.destroy()
        Coin_Sprite = textsprite.create(convert_to_text(coins), 1, 3)
        Coin_Sprite.set_position(78, 5)
controller.A.on_event(ControllerButtonEvent.PRESSED, on_a_pressed)

def Line_following():
    pass
def Pathfinding(Sprite2: Sprite, Waypoint: number, Index: number):
    if Sprite2.x == Waypoints[Waypoint] and Sprite2.y == Waypoints[Waypoint + 1]:
        Müll_Index[Index] = Waypoint + 2
        Sprite2.follow(Waypoints_Sprite[(Waypoint + 2) / 2])
def Spawn_Müll(Typ: number):
    global Temp
    Temp = sprites.create(img("""
            . b . . 
                    b a c . 
                    . c b . 
                    . . b .
        """),
        SpriteKind.Müll)
    Temp.set_position(110, 119)
    Müll_Index.append(0)
    Müll_.append(Temp)
richtung = 0
Neu: Sprite = None
preis = 0
Towers: List[Sprite] = []
Coin_Sprite: TextSprite = None
coins = 0
Typ2 = 0
Auswahl: Sprite = None
Temp: Sprite = None
Waypoints_Sprite: List[Sprite] = []
Waypoints: List[number] = []
Müll_Index: List[number] = []
Müll_: List[Sprite] = []
scene.set_background_image(img("""
    9999999999999999999999999777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
        9999999999999999999999999977777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
        9999999999999999999999999977777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
        9999999999999999999999999977777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
        9999999999999999999999999977777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
        9999999999999999999999999997777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
        9999999999999999999999999997777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
        9999999999999999999999999999777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
        9999999999999999999999999999977777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
        9999999999999999999999999999999999999997777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
        9999999999999999999999999999999999999999999999777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
        9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999977777777777777777777777777777777777777777777777777777777777777
        9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999777777777777777777777777777777777777777777777777777777777
        9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999777777777777777777777777777777777777777777777777777
        9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999977777777777777777777777777777777777777777777777
        9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999777777777777777777777777777777777777777777777
        9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999977777777777777777777777777777777777777777777
        9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999977777777777777777777777777777777777777777
        9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999777777777777777777777777777777777777777
        9999999999999999999999999999999999999999999999999999999999999999999999999999999977777777777799999999999999999999999999999977777777777777777777777777777777777777
        9999999999999999999999999999999999999999999977777777777777799999977777777777777777777777777777777799999999999999999999999977777777777777777777777777777777777777
        9999999999999999999999999999999999999997777777777777777777777777777777777777777777777777777777777777777999999999999999999997777777777777777777777777777777777777
        9999999999999999999999999999999999977777777777777777777777777777777777777777777777777777777777777777777999999999999999999999777777777777777777777777777777777777
        9999999999999999999999999999999997777777777777777777777777777777777777777777777777777777777777777777777779999999999999999999977777777777777777777777777777777777
        9999999999999999999999999999999777777777777777777777777777777777777777777779999999999999999999999999999999999999999999999999977777777777777777777777777777777777
        9999999999999999999999999999997777777777777777777777777777777779999999999999999999999999999999999999999999999999999999999999977777777777777777777777777777777777
        9999999999999999999999999999977777777777777777777777777799999999999999999999999999999999999999999999999999999999999999999999977777777777777777777777777777777777
        9999999999999999999999999999777777777777777777777777999999999999999999999999999999999999999999999999999999999999999999999999977777777777777777777777777777777777
        9999999999999999999999999997777777777777777777777779999999999999999999999999999999999999999999999999999999999999999999999999977777777777777777777777777777777777
        9999999999999999999999999997777777777777777777777799999999999999999999999999999999999999999999999999999999999999999997777777777777777777777777777777777777777777
        9999999999999999999999999997777777777777777777777799999999999999999999999999999999999999999999999999999999999997777777777777777777777777777777777777777777777777
        9999999999999999999999999977777777777777777777777999999999999999977777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
        9999999999999999999999999977777777777777777777779999999999999977777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
        9999999999999999999999999977777777777777777777779999999999999777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
        9999999999999999999999999977777777777777777777799999999999977777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
        9999999999999999999999999977777777777777777777999999999977777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
        9999999999999999999999999977777777777777777777999999999777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
        9999999999999999999999999977777777777777777779999999999777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
        9999999999999999999999999977777777777777777779999999997777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
        9999999999999999999999999997777777777777777779999999997777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
        9999999999999999999999999997777777777777777779999999997777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
        9999999999999999999999999997777777777777777779999999977777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
        9999999999999999999999999997777777777777777799999999977777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
        9999999999999999999999999997777777777777777799999999777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
        9999999999999999999999999997777777777777777799999999777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
        9999999999999999999999999999777777777777777799999999977777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
        9999999999999999999999999999777777777777777799999999977777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
        9999999999999999999999999999777777777777777799999999999777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
        9999999999999999999999999999777777777777777799999999999977777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
        9999999999999999999999999999777777777777777799999999999999999997777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
        9999999999999999999999999999777777777777777799999999999999999999977777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
        9999999999999999999999999999777777777777777779999999999999999999999999777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777
        9999999999999999999999999999977777777777777779999999999999999999999999999999977777777777777777777777777777777777777777777777777777777777777777777777777777777777
        9999999999999999999999999999977777777777777777999999999999999999999999999999999999999977799999999777777777777777777777777777777777777777777777777777777777777777
        9999999999999999999999999999977777777777777777999999999999999999999999999999999999999999999999999999999777777777777777777777777777777777777777777777777777777777
        9999999999999999999999999999977777777777777777799999999999999999999999999999999999999999999999999999999999999977777777777777777777777777777777777777777777777777
        9999999999999999999999999999977777777777777777779999999999999999999999999999999999999999999999999999999999999999999977777777777777777777777777777777777777777777
        9999999999999999999999999999977777777777777777777779999999999999999999999999999999999999999999999999999999999999999999997777777777777777777777777777777777777777
        9999999999999999999999999999977777777777777777777777779999999999999999999999999999999999999999999999999999999999999999999977777777777777777777777777777777777777
        9999999999999999999999999999977777777777777777777777777777799999999999999999999999999999999999999999999999999999999999999999997777777777777777777777777777777777
        9999999999999999999999999999977777777777777777777777777777777777999999999999999999999999999999999999999999999999999999999999999999977777777777777777777777777777
        9999999999999999999999999999977777777777777777777777777777777777777777777777777777999999999999999999999999999999999999999999999999999977777777777777777777777777
        9999999999999999999999999999977777777777777777777777777777777777777777777777777777779999999999997799999999999999999999999999999999999977777777777777777777777777
        9999999999999999999999999999997777777777777777777777777777777777777777777777777777777777777777777777777779999999999999999999999999999997777777777777777777777777
        9999999999999999999999999999997777777777777777777777777777777777777777777777777777777777777777777777777777799999999999999999999999999997777777777777777777777777
        9999999999999999999999999999997777777777777777777777777777777777777777777777777777777777777777777777777777777779999999999999999999999999777777777777777777777777
        9999999999999999999999999999997777777777777777777777777777777777777777777777777777777777777777777777777777777777777999999999999999999999977777777777777777777777
        9999999999999999999999999999997777777777777777777777777777777777777777777777777777777777777777777777777777777777777777999999999999999999977777777777777777777777
        9999999999999999999999999999997777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777799999999999999997777777777777777777777
        9999999999999999999999999999997777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777999999999999997777777777777777777777
        9999999999999999999999999999997777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777779999999999777777777777777777777
        9999999999999999999999999999997777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777999999999977777777777777777777
        9999999999999999999999999999997777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777999999999999777777777777777777
        9999999999999999999999999999997777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777999999999999977777777777777777
        9999999999999999999999999999997777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777799999999999997777777777777777
        9999999999999999999999999999997777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777779999999999999777777777777777
        9999999999999999999999999999997777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777779999999999999777777777777777
        9999999999999999999999999999997777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777999999999999977777777777777
        9999999999999999999999999999997777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777999999999999997777777777777
        9999999999999999999999999999997777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777999999999999999777777777777
        9999999999999999999999999999977777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777779999999999999999777777777777
        9999999999999999999999999999977777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777999999999999999999777777777777
        9999999999999999999999999999977777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777999999999999999999999777777777777
        9999999999999999999999999999977777777777777777777777777777777777777777777777777777777777777777777777777777777777777777777799999999999999999999999999777777777777
        9999999999999999999999999999977777777777777777777777777777777777777777777777777777777777777777777777777777777777779999999999999999999999999999999999777777777777
        9999999999999999999999999999977777777777777777777777777777777777777777777777777777777777777777777777777777777999999999999999999999999999999999999999777777777777
        9999999999999999999999999999777777777777777777777777777777777777777777777777777777777777777777777777799999999999999999999999999999999999999999999999777777777777
        9999999999999999999999999999777777777777777777777777777777777777777777777777777777777777779999999999999999999999999999999999999999999999999999999999777777777777
        9999999999999999999999999999777777777777777777777777777777777777777777777777777777777799999999999999999999999999999999999999999999999999999999999999777777777777
        9999999999999999999999999999777777777777777777777777777777777777777777777777777799999999999999999999999999999999999999999999999999999999999999999997777777777777
        9999999999999999999999999999777777777777777777777777777777777777777777777777779999999999999999999999999999999999999999999999999999999999999999997777777777777777
        9999999999999999999999999999777777777777777777777777777777777777777777777777779999999999999999999999999999999999999999999999999999999999999997777777777777777777
        9999999999999999999999999999777777777777777777777777777777777777777777777777799999999999999999999999999999999999999977777799999999977777777777777777777777777777
        9999999999999999999999999999777777777777777777777777777777777777777777777777799999999999997777999999999999999999999777777777777777777777777777777777777777777777
        9999999999999999999999999999777777777777777777777777777777777777777777777777799999999999777777999999999999999997777777777777777777777777777777777777777777777777
        9999999999999999999999999999977777777777777777777777777777777777777777777777999999999777777777999999999999999977777777777777777777777777777777777777777777777777
        9999999999999999999999999999997777777777777777777777777777777777777777777777999999997777777777799999999999999977777777777777777777777777777777777777777777777777
        9999999999999999999999999999997777777777777777777777777777777777777777777779999999977777777777799999999999999777777777777777777777777777777777777777777777777777
        9999999999999999999999999999997777777777777777777777777777777777777777777779999999977777777777799999999999999777777777777777777777777777777777777777777777777777
        9999999999999999999999999999999777777777777777777777777777777777777777777779999999977777777777799999999999999777777777777777777777777777777777777777777777777777
        9999999999999999999999999999999777777777777777777777777777777777777777777779999999777777777777799999999999977777777777777777777777777777777777777777777777777777
        9999999999999999999999999999999977777777777777777777777777777777777777777779999999977777777777799999999999777777777777777777777777777777777777777777777777777777
        9999999999999999999999999999999977777777777777777777777777777777777777777779999999977777777777799999999997777777777777777777777777777777777777777777777777777777
        9999999999999999999999999999999977777777777777777777777777777777777777777777999999977777777777799999999997777777777777777777777777777777777777777777777777777777
        9999999999999999999999999999999977777777777777777777777777777777777777777777999999999777777777799999999997777777777777777777777777777777777777777777777777777777
        9999999999999999999999999999999977777777777777777777777777777777777777777777999999999977777777799999999997777777777777777777777777777777777777777777777777777777
        9999999999999999999999999999999977777777777777777777777777777777777777777777799999999999777777999999999997777777777777777777777777777777777777777777777777777777
        9999999999999999999999999999999977777777777777777777777777777777777777777777779999999999999777999999999997777777777777777777777777777777777777777777777777777777
        9999999999999999999999999999999977777777777777777777777777777777777777777777779999999999999999999999999997777777777777777777777777777777777777777777777777777777
        9999999999999999999999999999999977777777777777777777777777777777777777777777779999999999999999999999999999777777777777777777777777777777777777777777777777777777
        9999999999999999999999999999999977777777777777777777777777777777777777777777777799999999999999999999999999777777777777777777777777777777777777777777777777777777
        9999999999999999999999999999999977777777777777777777777777777777777777777777777779999999999999999999999999777777777777777777777777777777777777777777777777777777
        9999999999999999999999999999999977777777777777777777777777777777777777777777777777799999999999999999999999977777777777777777777777777777777777777777777777777777
        9999999999999999999999999999999977777777777777777777777777777777777777777777777777779999999999999999999999997777777777777777777777777777777777777777777777777777
        9999999999999999999999999999999977777777777777777777777777777777777777777777777777777777999999999999999999999977777777777777777777777777777777777777777777777777
        9999999999999999999999999999999977777777777777777777777777777777777777777777777777777777777799999999999999999997777777777777777777777777777777777777777777777777
        9999999999999999999999999999999977777777777777777777777777777777777777777777777777777777777777799999999999999999997777777777777777777777777777777777777777777777
        9999999999999999999999999999999977777777777777777777777777777777777777777777777777777777777777777799999999999999999999997777777777777777777777777777777777777777
        9999999999999999999999999999999977777777777777777777777777777777777777777777777777777777777777777779999999999999999999997777777777777777777777777777777777777777
        9999999999999999999999999999999977777777777777777777777777777777777777777777777777777777777777777777779999999999999999999977777777777777777777777777777777777777
"""))
Müll_ = []
Müll_Index = []
Waypoints = [98,
    112,
    102,
    92,
    142,
    83,
    129,
    65,
    92,
    59,
    52,
    53,
    49,
    42,
    57,
    29,
    79,
    27,
    114,
    24,
    103,
    17,
    60,
    15,
    11,
    18]
Waypoints_Sprite = []
index = 0
while index <= len(Waypoints):
    if index % 2 == 1:
        Temp = sprites.create(img("""
            2
        """), SpriteKind.Marker)
        Temp.set_position(Waypoints[index - 1], Waypoints[index])
        Waypoints_Sprite.append(Temp)
    index += 1
Auswahl = sprites.create(img("""
        ........................
            ........................
            ........................
            ........................
            ............ffffff......
            ...........f2feeeeff....
            ..........f222feeeeff...
            ..........feeeeffeeef...
            .........fe2222eeffff...
            .........f2effff222ef...
            ..........ffeeefffffff..
            ...........e44fbe44eff..
            .........eeeddf14d4eef..
            .......bbeededdd4eeef...
            ......bbcedd4e44eeff....
            .bbbbbbb..ee442222f.....
            .b.1.bb....f2e2222f.....
            .b1.1bb....f554444f.....
            .bbbbb......ffffff......
            ..1.1.........fff.......
            ...1....................
            ........................
            ........................
            ........................
    """),
    SpriteKind.enemy)
Typ2 = 0
info.set_life(100)
coins = 100
Coin_Sprite = textsprite.create(convert_to_text(coins), 1, 3)
Coin_Sprite_Symbol = sprites.create(img("""
        . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . 5 5 . . . . . . . 
            . . . . . . 5 5 5 5 . . . . . . 
            . . . . . 5 5 4 4 5 5 . . . . . 
            . . . . . 5 5 4 4 5 5 . . . . . 
            . . . . . . 5 5 5 5 . . . . . . 
            . . . . . . . 5 5 . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . .
    """),
    SpriteKind.text)
controller.move_sprite(Auswahl, 50, 50)
Coin_Sprite.set_position(78, 5)
Coin_Sprite_Symbol.set_position(64, 5)
Towers = []
preis = 15
Auswahl.set_stay_in_screen(True)

def on_forever():
    global richtung
    if randint(0, 10) == 0:
        Spawn_Müll(1)
    index2 = 0
    while index2 <= len(Müll_):
        Pathfinding(Müll_[index2], Müll_Index[index2], index2)
        index2 += 1
    if characterAnimations.matches_rule(Auswahl, characterAnimations.rule(Predicate.MOVING_RIGHT)):
        characterAnimations.run_frames(Auswahl,
            [img("""
                ........................
                            ........................
                            ........................
                            ........................
                            ......ffffff............
                            ....ffeeeef2f...........
                            ...ffeeeef222f..........
                            ...feeeffeeeef..........
                            ...ffffee2222ef.........
                            ...fe222ffffe2f.........
                            ..fffffffeeeff..........
                            ..ffe44ebf44e...........
                            ..fee4d41fddeee.........
                            ...feee4dddedeebb.......
                            ....ffee44e4ddecbb......
                            .....f222244ee..bbbbbbb.
                            .....f2222e2f....bb.1.b.
                            .....f444455f....bb1.1b.
                            ......ffffff......bbbbb.
                            .......fff.........1.1..
                            ....................1...
                            ........................
                            ........................
                            ........................
            """)],
            100,
            characterAnimations.rule(Predicate.MOVING_RIGHT))
        richtung = 1
        characterAnimations.clear_character_state(Auswahl)
    elif characterAnimations.matches_rule(Auswahl, characterAnimations.rule(Predicate.MOVING_LEFT)):
        characterAnimations.run_frames(Auswahl,
            [img("""
                ........................
                            ........................
                            ........................
                            ........................
                            ............ffffff......
                            ...........f2feeeeff....
                            ..........f222feeeeff...
                            ..........feeeeffeeef...
                            .........fe2222eeffff...
                            .........f2effff222ef...
                            ..........ffeeefffffff..
                            ...........e44fbe44eff..
                            .........eeeddf14d4eef..
                            .......bbeededdd4eeef...
                            ......bbcedd4e44eeff....
                            .bbbbbbb..ee442222f.....
                            .b.1.bb....f2e2222f.....
                            .b1.1bb....f554444f.....
                            .bbbbb......ffffff......
                            ..1.1.........fff.......
                            ...1....................
                            ........................
                            ........................
                            ........................
            """)],
            100,
            characterAnimations.rule(Predicate.FACING_LEFT))
        characterAnimations.clear_character_state(Auswahl)
        richtung = 0
forever(on_forever)
